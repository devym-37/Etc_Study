## 운영체제

---

### 운영체제 역할1: 시스템 자원(system resource) 관리자

- Operating System 또는 OS 라고 부른다.
- 시스템 자원(System Resource) = 컴퓨터 하드웨어
  - CPU (중앙처리장치), 메모리(DRAM, RAM)
  - I/O Devices(입출력장치)
    - Monitor, Mouse, ...
  - 저장매체 : SSD, HDD (하드디스크)

---

### 운영체제 역할

> 컴퓨터 하드웨어는 스스로 할 수 있는 것이 없다.

1. CPU : 각 프로그램이 얼마나 CPU를 사용할지를 결정할 수는 없다.
2. Memory : 각 프로그램이 어느 주소에 저장되어야 하는지, 어느 정도의 메모리 공간을 확보해줘야 하는지를 결정할 수는 없다.
3. 저장매체(HDD, SSD) : 어떻게, 어디에 저장할지는 결정할 수 없다.
4. 키보드/마우스 : 스스로 표시할 수는 없다.

---

### How did we ever run Computer without OS ?

---

### 대표적인 운영체제

- Windows OS, Mac OS, UNIX(유닉스)
- UNIX OS
  - UNIX 계열 OS - LINUX
    - UNIX와 사용법이나, OS 구조가 유사
  - LINUX OS

---

### 컴퓨터 하드웨어와 프로그램을 제어

---

### 운영체제와 응용프로그램

- 응용 프로그램이란 ?
  - 프로그램 = 소프트웨어
  - 소프트웨어 = 운영체제, 응용프로그램(엑셀, 파워포인트 ..)
  - 응용 프로그램 = Application = App

---

### 운영체제와 응용 프로그램간의 관계

- 운영체제는 응용프로그램을 관리

  - 응용 프로그램을 실행시킨다.
  - 응용 프로그램간의 권한을 관리해준다.
    - 관리자 권한으로 실행
  - 응용 프로그램을 사용하는 사용자도 관리
    - 로그인 기능

- 응용 프로그램은 누구나 만들 수 있다.
  - ex) 응용 프로그램에 무한 반복문을 넣었다.
  - 응용 프로그램을 잘 못 작성해서, 프로그램이 다운
  - 모든 파일 삭제 막기(권한 / 사용자 관리)
  - 응용 프로그램이 CPU를 자기만 쓰겠다라고 한다면 운영체제가 관리할 수 있다.

1. 응용 프로그램을 관리한다.
2. 시스템 자원을 관리한다.
3. 사용자와 컴퓨터간의 커뮤니케이션을 지원
   > 운영체제의 목표 : 사용자가 사용하는 응용 프로그램이 효율적으로, 적절하게 동작하도록 지원
   > 운영체제는 응용 프로그램이 요청하는 시스템 리소스를 효율적으로 분배하고, 지원하는 소프트웨어

> 컴퓨터를 키면 ? --> 운영체제는 Memory에 올라가게 된다.
> 참고 : 폰노이만 구조
> -> 폰노이만 구조는 중앙처리장치, 메모리, 프로그램 세 가지 요소로 구성되어 있다. 기억장치의 속도가 전체 시스템의 성능 저하를 야기하는 현상을 폰 노이만 병목현상이라고 한다. 병목현상이 일어나는 근본적 원인은 프로그램 메모리와 데이터 메모리가 물리적 구분 없이 하나의 버스를 통해 CPU와 교류하기 때문이다. 이에 반해, 하버드 구조는 CPU가 명령어와 데이터를 동시에 사용할 수 있도록 명령용 버스와 데이터용 버스를 물리적으로 구분했다. 이를 통해 현재 명령의 처리를 끝냄과 동시에 다음 명령을 읽어 들일 수 있기 때문에 기존의 폰 노이만 구조보다 더 빠른 속도를 낼 수 있다.

### 정리

1. 운영체제의 역할 : 시스템 자원, 응용 프로그램 관리, 효율적 분배
2. 응용 프로그램이란 ? 소프트웨어

---

### 운영체제 구조

- 운영체제는 사용자 인터페이스 제공
  - 쉘(Shell)
    - 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램
    - 쉘은 터미널 환경(CLI)과, GUI환경 두 종류로 분류

### 운영체제는 응용 프로그램을 위해서도 인터페이스를 제공

- API(Application Programming Interface)

  - 함수로 제공

- 보통은 라이브러리 형태로 제공
  - C library(보통은 C언어로 제공)

### 시스템 콜

- 시스템 콜 또는 시스템 호출 인터페이스
- 운영체제가 운영체제 각 기능을 사용할 수 있도록 시스템 콜이라는 명령 또는 함수를 제공
- API 내부에는 시스템콜을 호출하는 형태로 만들어지는 경우가 대부분

### 운영체제를 만든다면 ?

1. 운영체제를 개발한다. (kernel)
2. 시스템 콜을 개발
3. API library 개발
4. Shell 프로그램 개발
5. 응용 프로그램 개발

---

### 운영체제와 시스템콜

- 시스템콜 정의 예
  - POSIX API, 윈도우 API
    > 시스템콜 : 운영체제 기능을 호출하는 함수

### 정리

- 운영체제는 컴퓨터 하드웨어와 응용 프로그램을 관리한다.
- 사용자 인터페이스를 제공하기 위해 쉘 프로그램을 제공한다.
- 응용 프로그램이 운영체제 기능을 요청하기 위해서, 운영체제는 시스템 콜을 제공한다.
  - 보통 시스템 콜을 직접 사용하기 보다는, 해당 시스템 콜을 사용해서 만든 각 언어별 라이브러리를 사용한다.

---

### 운영체제 구조

1. CPU Protection Rings

- CPU도 권한 모드라는 것을 가지고 있다. - 대표적인 권한 모드 : 사용자 모드 / 커널 모드(특권 명령어로 실행과 원하는 작업 수행을 위한 자원 접근을 가능케 하는 모드 : OS가 CPU를 사용할 때)
  > Kernel 이란 ?
  > OS 본연의 기능 / 핵심 소프트웨어

> shell 이란 ?
> Kernel의 껍데기(운영체제를 감싸고 있는 것)

### 시스템콜은 커널 모드로 실행

- 커널 모드에서만 실행 가능한 기능들이 있다.
- 커널 모드로 실행하려면, 반드시 시스템 콜을 사용해야 한다.
- 시스템 콜은 운영체제 제공

### 정리

- 운영체제는 시스템 콜 제공
- 프로그래밍 언어별로 운영체제 기능을 활용하기 위해, 시스템 콜을 기반으로 API 제공
- 응용 프로그램은 운영체제 기능 필요시, 해당 API를 사용해서 프로그램을 작성
- 응용 프로그램이 실행되서, 운영체제 기능이 필요한 API를 호출하면, 시스템 콜이 호출되서, 커널모드로 변경되어 OS내부에서 해당 명령이 실행되고, 다시 응용 프로그램이 돌아간다.

---

### 프로세스 스케줄링

- 배치 처리 시스템, 시분할 시스템, 멀티 태스킹

### 배치 처리 시스템

- 여러 프로그램을 순차적으로 실행시킬 수 있다.
  - 어떤 프로그램은 실행이 너무 시간이 많이 걸려서, 다른 프로그램이 실행하는데 시간을 많이 기다려야 한다. -> 시분할 시스템 / 멀티 프로그래밍이 나타났다.

### 시분할 시스템

: 다중 사용자 지원을 위해 컴퓨터 응답시간을 최소화하는 시스템

### 멀티 태스킹

: 단일 CPU에서, 여러 응용 프로그램이 동시에 실행되는 것처럼 보이도록 하는 시스템

### 멀티 태스킹과 멀티 프로세싱

- 멀티 태스킹 : 단일 CPU
- 멀티 프로세싱 : 여러 CPU에 하나의 프로그램을 병렬로 실행해서 실행속도를 극대화시키는 시스템
